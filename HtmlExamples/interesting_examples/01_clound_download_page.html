<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" lang="zh-CN" />
    <title>swiper</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net.cn/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="../assets/csss/download_page.css" />
    <!--导入映射表-->
    <script type="importmap">
      {
        "imports": {
          "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js",
          "es-toolkit": "https://esm.sh/es-toolkit@%5E1",
          "axios": "https://unpkg.com/axios@1.10.0/dist/esm/axios.min.js",
          "swiper": "https://cdn.jsdelivr.net.cn/npm/swiper@11/swiper-bundle.min.mjs"
        }
      }
    </script>
  </head>

  <body>
    <div class="header">
      <img src="../assets/imgs/logo.png" alt="Logo" />
      <span>客服电话：4008987008</span>
    </div>
    <div class="swiper">
      <div class="swiper-wrapper">
        <img class="swiper-slide" src="../assets/imgs/clound.png" alt="Slide 1" />
        <img class="swiper-slide" src="../assets/imgs/test.png" alt="Slide 2" />
      </div>
      <div class="swiper-pagination"></div>
    </div>
    <div class="downBox">
      <div class="downContent">
        <div class="title" onclick="toggleInstallIntro('windows')">
          <img src="../assets/imgs/install_intro.png" />
          <span>安装说明</span>
        </div>
        <div class="content">
          <img src="../assets/imgs/logo_windows.png" />
          <span>Windows系统</span>
          <span>支持win7及以上系统</span>
        </div>
        <div class="downloadZone" onclick="toggleDownloadExe('windows')">
          <span></span>
          <span>立即下载</span>
        </div>
      </div>
      <div class="downContent">
        <div class="title" onclick="toggleInstallIntro('uos')">
          <img src="../assets/imgs/install_intro.png" />
          <span>安装说明</span>
        </div>
        <div class="content">
          <img src="../assets/imgs/logo_uos.png" />
          <span>UOS系统</span>
          <span>支持x86架构</span>
        </div>
        <div class="downloadZone" onclick="toggleDownloadExe('uos')">
          <span></span>
          <span>立即下载</span>
        </div>
      </div>
      <div class="downContent">
        <div class="title" onclick="toggleInstallIntro('kylinos')">
          <img src="../assets/imgs/install_intro.png" />
          <span>安装说明</span>
        </div>
        <div class="content">
          <img src="../assets/imgs/logo_kylinos.png" />
          <span>麒麟系统</span>
          <span>支持x86架构</span>
        </div>
        <div class="downloadZone" onclick="toggleDownloadExe('kylinos')">
          <span></span>
          <span>立即下载</span>
        </div>
      </div>
    </div>
    <div class="introduce">
      <span class="title">产品介绍</span>
      <span class="content">
        外研U学教学云平台是以外研英语教材与资源为中心，专门为英语教师量身打造的覆盖备课、授课、练习等全流程的教学平台，平台提供课件、教案、微课、音视频等各种权威资源，及简单高效的课件编辑功能、授课工具、数字教材等，帮助教师快捷有效地备课、授课，此外，平台还提供丰富多样的同步和听说练习资源，帮助教师有效提升学生英语水平。
      </span>
    </div>
    <div class="content-list">
      <img src="../assets/imgs/intro0.png" />
      <img class="odd" src="../assets/imgs/intro1.png" />
      <img src="../assets/imgs/intro2.png" />
      <img class="odd" src="../assets/imgs/intro3.png" />
    </div>
    <div class="footer">
      <span>© 2025外研U学教学平台. All rights reserved.</span>
    </div>

    <script type="module">
      import Swiper from 'swiper'

      // 等待DOM加载完成
      document.addEventListener('DOMContentLoaded', function () {
        var swiper = new Swiper('.swiper', {
          loop: true,
          spaceBetween: 30,
          centeredSlides: true,
          autoplay: {
            delay: 5000,
            disableOnInteraction: false,
          },
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
        })
      })
    </script>

    <script>
      let downloadInfo = {}

      window.onload = () => {
        fetch(
          `https://k12-teaching-cdn.unipus.cn/digital-platform/online/Setup-digital-platform-download.json?v=${Date.now()}`
        )
          .then(response => response.json())
          .then(data => (downloadInfo = data || {}))
      }

      // Detect when the user is leaving or returning to the page
      window.addEventListener('visibilitychange', event => {
        if (event.target.visibilityState === 'hidden') {
          console.log('User is leaving the page', document.URL)
        }
        if (event.target.visibilityState === 'visible') {
          console.log('User is back on the page', document.URL)
        }
      })

      function toggleInstallIntro(osName) {
        if (!downloadInfo || !osName) {
          return
        }

        const helpDocUrl = downloadInfo[osName]?.helpDocUrl
        if (helpDocUrl) {
          console.log(helpDocUrl)
          // Opens the URL in a new tab/window
          window.open(helpDocUrl, '_blank')
          // window.location.href = helpDocUrl;
        }
      }

      function toggleDownloadExe(osName) {
        if (!downloadInfo || !osName) {
          return
        }

        const downloadUrl = downloadInfo[osName]?.downloadUrl
        if (downloadUrl) {
          // Redirects the current page/tab to the URL
          window.location.href = downloadUrl
        }
      }
    </script>
  </body>
</html>
