<html>

<head>
    <meta>
    </meta>
    <title></title>
    <script>
        // 启用严格模式，变量必须先定义再使用，避免出错
        "use strict";

        /*
         * Promise对象
         * 1.Promise对象是一个构造函数，用来生成Promise实例
         * 2.Promise对象有三种状态：pending（进行中）、fulfilled（已成功）和rejected（已失败）
         * 3.Promise对象实例具有then方法，该方法接收两个参数，分别是Promise对象的状态为fulfilled时执行的函数，以及Promise对象的状态为rejected时执行的函数
         */
        function print(delay, msg) {
            return new Promise(function (resolve, reject) {
                setTimeout(function () {
                    console.log(msg);
                    resolve("成功！");
                }, delay);
            });
        }

        async function printAaync() {
            var msg = await print(1000, "first");
            console.log(msg);
            msg = await print(4000, "second");
            console.log(msg);
            msg = await print(3000, "third");
            console.log(msg);
        }

        // print(1000, "first").then(function (msg) {
        //     console.log(msg);
        //     return print(4000, "second");
        // }).then(function (msg) {
        //     console.log(msg);
        //     return print(3000, "third");
        // });

        // print(1000, "first");
        // print(4000, "second");
        // print(3000, "third");

        //printAaync();

        async function funcAsync() {
            try {
                await new Promise((resolve, reject) => {
                    reject("error");
                });
            } catch (e) {
                console.log(e);
            }
        }

        //funcAsync(); // error

        var test = void 0;
        console.log(test);
    </script>
</head>

<body>

</body>

</html>