<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>事件处理</title>
    <!--导入映射表-->
    <script type="importmap">
      {
        "imports": {
          "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js",
          "es-toolkit": "https://esm.sh/es-toolkit@%5E1",
          "axios": "https://unpkg.com/axios@1.10.0/dist/esm/axios.min.js"
        }
      }
    </script>
  </head>

  <body>
    <!--v-on指令监听DOM事件，内联事件处理器-->
    <div id="example-1">
      <button @click.exact="count += 1">Add 1</button>
      <p>count is {{count}}</p>
    </div>

    <!--v-on指令监听DOM事件，方法事件处理器-->
    <div id="example-2">
      <button @click="greet">Greet</button>
    </div>

    <!--v-on指令中接收JS方法-->
    <div id="example-3">
      <p>
        <button @click="say('Hi')" style="margin-right: 10px">Say Hi</button>
        <button @click="say('What')">Say What</button>
      </p>
    </div>

    <!--向v-on指令中接收的JS方法中传递事件-->
    <div id="example-4">
      <p>
        <!-- <button @click="warn('Form cannot be submitted yet.', $event)">Submit</button> -->
        <button @click="(event)=> warn('Form cannot be submitted yet.', event)">Submit</button>
      </p>
    </div>

    <script type="module">
      import { createApp, ref } from 'vue'
      import { debounce } from 'es-toolkit'

      createApp({
        setup() {
          const count = ref(0)

          return {
            count,
          }
        },
      }).mount('#example-1')

      createApp({
        setup() {
          const name = ref('Vue.js')

          function greet(event) {
            alert(`Hello ${name.value}!`)
            if (event) {
              alert(event.target.tagName)
            }
          }

          return {
            name,
            greet,
          }
        },
      }).mount('#example-2')

      createApp({
        setup() {
          function say(message) {
            alert(message)
          }

          return {
            say,
          }
        },
      }).mount('#example-3')

      createApp({
        setup() {
          function warn(message, event) {
            if (event) {
              //alert(event.target.tagName)
              // 用于阻止事件的默认行为
              event.preventDefault()
            }
            alert(message)
          }
          return {
            warn,
          }
        },
      }).mount('#example-4')
    </script>
  </body>
</html>
