# Claude Code å®Œæ•´æŠ€æœ¯æ¶æ„æ–‡æ¡£

> **ç‰ˆæœ¬**: v1.0
> **æ›´æ–°æ—¥æœŸ**: 2026-02-08
> **ä½œè€…**: Claude Sonnet 4.5

---

## ğŸ“‘ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
  - [1. å¤§æ¨¡å‹ (LLM)](#1-å¤§æ¨¡å‹-llm)
  - [2. Agentï¼ˆæ™ºèƒ½ä»£ç†ï¼‰](#2-agentæ™ºèƒ½ä»£ç†)
  - [3. MCP (Model Context Protocol)](#3-mcp-model-context-protocol)
  - [4. Skillï¼ˆæŠ€èƒ½ï¼‰](#4-skillæŠ€èƒ½)
  - [5. RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ)](#5-rag-æ£€ç´¢å¢å¼ºç”Ÿæˆ)
- [æ‰©å±•ç»„ä»¶](#æ‰©å±•ç»„ä»¶)
  - [6. Toolsï¼ˆå·¥å…·ç³»ç»Ÿï¼‰](#6-toolså·¥å…·ç³»ç»Ÿ)
  - [7. Context Managementï¼ˆä¸Šä¸‹æ–‡ç®¡ç†ï¼‰](#7-context-managementä¸Šä¸‹æ–‡ç®¡ç†)
  - [8. Hooksï¼ˆé’©å­ç³»ç»Ÿï¼‰](#8-hooksé’©å­ç³»ç»Ÿ)
  - [9. Plan Modeï¼ˆè§„åˆ’æ¨¡å¼ï¼‰](#9-plan-modeè§„åˆ’æ¨¡å¼)
  - [10. Permission & Securityï¼ˆæƒé™ä¸å®‰å…¨ï¼‰](#10-permission--securityæƒé™ä¸å®‰å…¨)
  - [11. Session Managementï¼ˆä¼šè¯ç®¡ç†ï¼‰](#11-session-managementä¼šè¯ç®¡ç†)
  - [12. Settings & Configurationï¼ˆé…ç½®ç³»ç»Ÿï¼‰](#12-settings--configurationé…ç½®ç³»ç»Ÿ)
  - [13. Git Integrationï¼ˆGit é›†æˆï¼‰](#13-git-integrationgit-é›†æˆ)
  - [14. IDE Integrationï¼ˆIDE é›†æˆï¼‰](#14-ide-integrationide-é›†æˆ)
- [å®Œæ•´æ¶æ„å›¾](#å®Œæ•´æ¶æ„å›¾)
- [ååŒå·¥ä½œæµç¨‹](#ååŒå·¥ä½œæµç¨‹)
- [ç»„ä»¶é‡è¦æ€§è¯„çº§](#ç»„ä»¶é‡è¦æ€§è¯„çº§)
- [å®é™…åº”ç”¨æ¡ˆä¾‹](#å®é™…åº”ç”¨æ¡ˆä¾‹)

---

## æ¦‚è¿°

Claude Code æ˜¯ Anthropic å®˜æ–¹æ¨å‡ºçš„ AI ç¼–ç¨‹åŠ©æ‰‹ CLI å·¥å…·ï¼Œé‡‡ç”¨å¤šå±‚æ¬¡ã€æ¨¡å—åŒ–çš„æ¶æ„è®¾è®¡ï¼Œé€šè¿‡å¤šä¸ªä¸“ä¸šåŒ–ç»„ä»¶çš„ååŒå·¥ä½œï¼Œå®ç°å¼ºå¤§çš„ä»£ç ç†è§£ã€ç”Ÿæˆå’Œæ“ä½œèƒ½åŠ›ã€‚

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
- ğŸ§  **æ™ºèƒ½åŒ–**: åŸºäº Claude ç³»åˆ—å¤§æ¨¡å‹çš„å¼ºå¤§ç†è§£èƒ½åŠ›
- ğŸ”§ **æ¨¡å—åŒ–**: å„ç»„ä»¶èŒè´£æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
- ğŸ”’ **å®‰å…¨æ€§**: å¤šå±‚å®‰å…¨æœºåˆ¶ï¼Œé˜²æ­¢å±é™©æ“ä½œ
- ğŸ”„ **å¯æ‰©å±•**: æ”¯æŒè‡ªå®šä¹‰ Skillsã€MCP Servers å’Œ Hooks
- ğŸ“Š **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**: æ™ºèƒ½ç®¡ç†å¯¹è¯å†å²ï¼Œæ”¯æŒæ— é™é•¿åº¦ä¼šè¯

---

## æ ¸å¿ƒç»„ä»¶

### 1. å¤§æ¨¡å‹ (LLM)

#### ä½œç”¨
Claude Code çš„æ ¸å¿ƒæ™ºèƒ½å¼•æ“ï¼Œæä¾›è‡ªç„¶è¯­è¨€ç†è§£å’Œä»£ç ç”Ÿæˆèƒ½åŠ›ã€‚

#### å¯ç”¨æ¨¡å‹

| æ¨¡å‹ | æ¨¡å‹ ID | ç”¨é€” | ç‰¹ç‚¹ |
|------|--------|------|------|
| **Claude Sonnet 4.5** | claude-sonnet-4-5 | ä¸»åŠ›æ¨¡å‹ | å¹³è¡¡æ€§èƒ½å’Œæˆæœ¬ï¼Œé€‚åˆå¤§å¤šæ•°ä»»åŠ¡ |
| **Claude Opus 4.6** | claude-opus-4-6 | å¤æ‚ä»»åŠ¡ | æœ€å¼ºæ¨ç†èƒ½åŠ›ï¼Œå¤„ç†å›°éš¾é—®é¢˜ |
| **Claude Haiku** | claude-haiku | å¿«é€Ÿå“åº” | è½»é‡çº§æ¨¡å‹ï¼Œå¿«é€Ÿå¤„ç†ç®€å•ä»»åŠ¡ |

#### å·¥ä½œæ–¹å¼

```mermaid
graph LR
    A[ç”¨æˆ·æŒ‡ä»¤] --> B[å¤§æ¨¡å‹]
    B --> C{ç†è§£æ„å›¾}
    C --> D[è§„åˆ’æ­¥éª¤]
    D --> E[è°ƒç”¨å·¥å…·]
    E --> F[è·å–ç»“æœ]
    F --> G[ç”Ÿæˆè¾“å‡º]
    G --> H[è¿”å›ç”¨æˆ·]
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š
- è‡ªç„¶è¯­è¨€ç†è§£å’Œæ„å›¾è¯†åˆ«
- ä»»åŠ¡è§„åˆ’å’Œæ­¥éª¤åˆ†è§£
- å·¥å…·è°ƒç”¨å†³ç­–
- ä»£ç ç”Ÿæˆå’Œä¿®æ”¹
- é”™è¯¯åˆ†æå’Œè°ƒè¯•å»ºè®®

---

### 2. Agentï¼ˆæ™ºèƒ½ä»£ç†ï¼‰

#### ä½œç”¨
ä¸“é—¨åŒ–çš„å­ä»»åŠ¡æ‰§è¡Œå™¨ï¼Œå…·æœ‰ç‰¹å®šèƒ½åŠ›çš„ AI åŠ©æ‰‹ã€‚æ¯ä¸ª Agent éƒ½æœ‰ä¸“é—¨çš„å·¥å…·é›†å’ŒèŒè´£èŒƒå›´ã€‚

#### Agent ç±»å‹

```
ğŸ“¦ Claude Code ä¸­çš„ Agent ç±»å‹
â”‚
â”œâ”€â”€ Bash Agent
â”‚   â”œâ”€â”€ å·¥å…·: Bash
â”‚   â””â”€â”€ èŒè´£: å‘½ä»¤è¡Œæ“ä½œã€ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ
â”‚
â”œâ”€â”€ Explore Agent
â”‚   â”œâ”€â”€ å·¥å…·: Glob, Grep, Read, WebFetch, WebSearch
â”‚   â””â”€â”€ èŒè´£: ä»£ç åº“æ¢ç´¢ã€æ–‡ä»¶æœç´¢ã€å†…å®¹æŸ¥è¯¢
â”‚
â”œâ”€â”€ Plan Agent
â”‚   â”œâ”€â”€ å·¥å…·: æ‰€æœ‰åªè¯»å·¥å…·
â”‚   â””â”€â”€ èŒè´£: è½¯ä»¶æ¶æ„è®¾è®¡ã€å®ç°è®¡åˆ’åˆ¶å®š
â”‚
â”œâ”€â”€ General-Purpose Agent
â”‚   â”œâ”€â”€ å·¥å…·: å…¨éƒ¨å·¥å…·
â”‚   â””â”€â”€ èŒè´£: é€šç”¨ä»»åŠ¡å¤„ç†ã€å¤æ‚å¤šæ­¥éª¤æ“ä½œ
â”‚
â””â”€â”€ claude-code-guide Agent
    â”œâ”€â”€ å·¥å…·: Glob, Grep, Read, WebFetch, WebSearch
    â””â”€â”€ èŒè´£: Claude Code ä½¿ç”¨æŒ‡å—ã€åŠŸèƒ½è¯´æ˜
```

#### å·¥ä½œæ–¹å¼

1. **å¯åŠ¨**: ä¸» Claude å®ä¾‹ä½¿ç”¨ `Task` å·¥å…·å¯åŠ¨ Agent
2. **æ‰§è¡Œ**: Agent åœ¨ç‹¬ç«‹ä¼šè¯ä¸­è‡ªä¸»å·¥ä½œ
3. **è¿”å›**: Agent å®Œæˆåè¿”å›ç»“æœç»™ä¸»å®ä¾‹
4. **å¹¶è¡Œ**: å¤šä¸ª Agent å¯åŒæ—¶è¿è¡Œï¼Œæé«˜æ•ˆç‡

**ç¤ºä¾‹ä»£ç **ï¼š
```javascript
// ä¸» Claude å¯åŠ¨ Explore Agent
Task({
  subagent_type: "Explore",
  prompt: "Find all error handling code in the project",
  description: "Search error handling"
})
```

---

### 3. MCP (Model Context Protocol)

#### ä½œç”¨
è¿æ¥å¤–éƒ¨æœåŠ¡çš„æ ‡å‡†åè®®ï¼Œè®© Claude Code èƒ½è®¿é—®å„ç§æ•°æ®æºå’Œ APIã€‚

#### MCP æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Claude Code (Client)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“ MCP Protocol
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          MCP Servers (å¤šä¸ª)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  GitHub    â”‚  â”‚ Confluence â”‚         â”‚
â”‚  â”‚  Server    â”‚  â”‚  Server    â”‚  ...    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       External Services & APIs          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å¸¸è§ MCP Servers

| Server | ç”¨é€” | æä¾›çš„èƒ½åŠ› |
|--------|------|-----------|
| **GitHub MCP** | GitHub é›†æˆ | PR æŸ¥çœ‹ã€Issue ç®¡ç†ã€ä»“åº“æ“ä½œ |
| **Confluence MCP** | ä¼ä¸šçŸ¥è¯†åº“ | æ–‡æ¡£æ£€ç´¢ã€é¡µé¢åˆ›å»º |
| **Jira MCP** | é¡¹ç›®ç®¡ç† | ä»»åŠ¡æŸ¥è¯¢ã€çŠ¶æ€æ›´æ–° |
| **Database MCP** | æ•°æ®åº“è®¿é—® | SQL æŸ¥è¯¢ã€æ•°æ®åˆ†æ |
| **Slack MCP** | å›¢é˜Ÿåä½œ | æ¶ˆæ¯å‘é€ã€é¢‘é“ç®¡ç† |

#### é…ç½®ç¤ºä¾‹

```json
{
  "mcpServers": {
    "github": {
      "command": "mcp-server-github",
      "env": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
      }
    },
    "confluence": {
      "command": "mcp-server-confluence",
      "args": ["--base-url", "https://company.atlassian.net"],
      "env": {
        "CONFLUENCE_TOKEN": "${CONFLUENCE_TOKEN}"
      }
    }
  }
}
```

---

### 4. Skillï¼ˆæŠ€èƒ½ï¼‰

#### ä½œç”¨
å¯å¤ç”¨çš„ä¸“ä¸šæç¤ºè¯æ¨¡æ¿ï¼Œå°è£…æœ€ä½³å®è·µå’Œé¢†åŸŸçŸ¥è¯†ã€‚

#### Skill ç»“æ„

```
.claude/skills/
â”œâ”€â”€ code-health/
â”‚   â”œâ”€â”€ SKILL.md           # ä¸»æŠ€èƒ½å®šä¹‰
â”‚   â””â”€â”€ references/        # å‚è€ƒæ–‡æ¡£
â”œâ”€â”€ dependency-check/
â”‚   â””â”€â”€ SKILL.md
â””â”€â”€ frontend-review/
    â”œâ”€â”€ SKILL.md
    â””â”€â”€ references/
        â”œâ”€â”€ html-standards.md
        â”œâ”€â”€ javascript-standards.md
        â””â”€â”€ css-standards.md
```

#### Skill å®šä¹‰ç¤ºä¾‹

```markdown
# Dependency Health Check

## When to use this skill
Use this skill when you need to:
- Audit dependencies for security vulnerabilities
- Update packages to latest versions
- Find and remove unused dependencies

## Supported package managers
- npm/yarn/pnpm (package.json)
- pip (requirements.txt)
- cargo (Cargo.toml)
- go mod (go.mod)

## Analysis checklist
1. Security vulnerabilities: Check for known CVEs
2. Outdated versions: Identify available updates
3. Unused dependencies: Scan code for actual usage
4. Deprecated packages: Find unmaintained packages

## Output format
[è¯¦ç»†çš„è¾“å‡ºæ ¼å¼è¯´æ˜...]
```

#### è°ƒç”¨æ–¹å¼

```bash
# å‘½ä»¤è¡Œè°ƒç”¨
/code-health
/dependency-check
/frontend-review src/components

# ä»£ç è°ƒç”¨
Skill({
  skill: "dependency-check",
  args: "package.json"
})
```

---

### 5. RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ)

#### ä½œç”¨
å¢å¼ºå¤§æ¨¡å‹çš„çŸ¥è¯†æ£€ç´¢èƒ½åŠ›ï¼Œè®© AI èƒ½è®¿é—®æœ€æ–°å’Œä¸“ä¸šçš„ä¿¡æ¯ï¼Œè§£å†³çŸ¥è¯†æˆªæ­¢æ—¥æœŸå’Œå¹»è§‰é—®é¢˜ã€‚

#### RAG å·¥ä½œæµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·æé—®] --> B{éœ€è¦å¤–éƒ¨ä¿¡æ¯?}
    B -->|æ˜¯| C[æ£€ç´¢æ•°æ®æº]
    B -->|å¦| D[ç›´æ¥å›ç­”]
    C --> E[WebSearch/WebFetch]
    C --> F[Glob/Grep æœç´¢ä»£ç ]
    C --> G[MCP Server æŸ¥è¯¢]
    E --> H[æå–ç›¸å…³ä¿¡æ¯]
    F --> H
    G --> H
    H --> I[æ„å»ºå¢å¼ºä¸Šä¸‹æ–‡]
    I --> J[å¤§æ¨¡å‹ç”Ÿæˆå›ç­”]
    J --> K[è¿”å›ç”¨æˆ·]
    D --> K
```

#### RAG æ•°æ®æº

| æ•°æ®æº | å·¥å…· | ç”¨é€” | ç¤ºä¾‹ |
|--------|------|------|------|
| **äº’è”ç½‘** | WebSearch | æœ€æ–°æŠ€æœ¯æ–‡æ¡£ã€CVE æ¼æ´ä¿¡æ¯ | "Vue 3.5 æ–°ç‰¹æ€§" |
| **ç½‘é¡µ** | WebFetch | ç‰¹å®šæ–‡æ¡£é¡µé¢å†…å®¹ | "https://vuejs.org/api" |
| **ä»£ç åº“** | Glob/Grep | é¡¹ç›®æ–‡ä»¶ã€ä»£ç ç‰‡æ®µ | "é”™è¯¯å¤„ç†é€»è¾‘" |
| **ä¼ä¸šçŸ¥è¯†åº“** | MCP Servers | å†…éƒ¨æ–‡æ¡£ã€API è§„èŒƒ | Confluence æ–‡æ¡£ |
| **é¡¹ç›®æ–‡ä»¶** | Read | READMEã€é…ç½®æ–‡ä»¶ | package.json ä¾èµ– |

#### RAG å®ä¾‹

**ç”¨æˆ·æé—®**ï¼š
```
"axios 1.11.0 æœ‰ä»€ä¹ˆå®‰å…¨æ¼æ´ï¼Ÿ"
```

**RAG æµç¨‹**ï¼š
1. è¯†åˆ«éœ€è¦å¤–éƒ¨ä¿¡æ¯
2. ä½¿ç”¨ WebSearch æŸ¥è¯¢ "axios 1.11.0 CVE vulnerability"
3. æå–æœç´¢ç»“æœä¸­çš„ CVE ç¼–å·å’Œæè¿°
4. å¤§æ¨¡å‹åŸºäºæ£€ç´¢å†…å®¹ç”Ÿæˆå‡†ç¡®ç­”æ¡ˆ

**å›ç­”**ï¼š
```
axios 1.11.0 å­˜åœ¨ HIGH ä¸¥é‡æ€§çš„ DoS æ¼æ´ (CVE-2024-XXXXX)ï¼š
- å½±å“ï¼šæ”»å‡»è€…å¯å‘é€æ¶æ„è¯·æ±‚å¯¼è‡´æœåŠ¡æ‹’ç»
- ä¿®å¤ç‰ˆæœ¬ï¼šaxios@1.13.5
- å»ºè®®ï¼šç«‹å³å‡çº§
```

---

## æ‰©å±•ç»„ä»¶

### 6. Toolsï¼ˆå·¥å…·ç³»ç»Ÿï¼‰

#### ä½œç”¨
Claude Code çš„"æ‰‹è„š"ï¼Œæ‰€æœ‰å®é™…æ“ä½œéƒ½é€šè¿‡ Tools å®Œæˆã€‚

#### å·¥å…·åˆ†ç±»

```
ğŸ“¦ Claude Code å·¥å…·ç®±
â”‚
â”œâ”€â”€ ğŸ“ æ–‡ä»¶æ“ä½œå·¥å…·
â”‚   â”œâ”€â”€ Read
â”‚   â”‚   â”œâ”€â”€ åŠŸèƒ½: è¯»å–æ–‡ä»¶å†…å®¹
â”‚   â”‚   â”œâ”€â”€ æ”¯æŒ: æ–‡æœ¬ã€PDFã€å›¾ç‰‡ã€Jupyter Notebook
â”‚   â”‚   â””â”€â”€ ç¤ºä¾‹: Read({file_path: "package.json"})
â”‚   â”‚
â”‚   â”œâ”€â”€ Write
â”‚   â”‚   â”œâ”€â”€ åŠŸèƒ½: åˆ›å»ºæ–°æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ æ³¨æ„: å¿…é¡»å…ˆç”¨ Read è¯»å–ç°æœ‰æ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ Edit
â”‚   â”‚   â”œâ”€â”€ åŠŸèƒ½: ç²¾ç¡®æ›¿æ¢æ–‡ä»¶å†…å®¹
â”‚   â”‚   â”œâ”€â”€ å‚æ•°: file_path, old_string, new_string
â”‚   â”‚   â””â”€â”€ ç‰¹ç‚¹: æ”¯æŒ replace_all æ¨¡å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ Glob
â”‚   â”‚   â”œâ”€â”€ åŠŸèƒ½: æ–‡ä»¶æ¨¡å¼åŒ¹é…æœç´¢
â”‚   â”‚   â”œâ”€â”€ ç¤ºä¾‹: Glob({pattern: "**/*.js"})
â”‚   â”‚   â””â”€â”€ ç‰¹ç‚¹: å¿«é€Ÿã€æ”¯æŒå¤æ‚æ¨¡å¼
â”‚   â”‚
â”‚   â””â”€â”€ Grep
â”‚       â”œâ”€â”€ åŠŸèƒ½: å†…å®¹æœç´¢ï¼ˆåŸºäº ripgrepï¼‰
â”‚       â”œâ”€â”€ æ¨¡å¼: files_with_matches, content, count
â”‚       â””â”€â”€ ç‰¹ç‚¹: æ”¯æŒæ­£åˆ™ã€å¤šè¡ŒåŒ¹é…
â”‚
â”œâ”€â”€ ğŸ’» æ‰§è¡Œå·¥å…·
â”‚   â”œâ”€â”€ Bash
â”‚   â”‚   â”œâ”€â”€ åŠŸèƒ½: æ‰§è¡Œå‘½ä»¤è¡Œå‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ è¶…æ—¶: é»˜è®¤ 2 åˆ†é’Ÿï¼Œæœ€é•¿ 10 åˆ†é’Ÿ
â”‚   â”‚   â””â”€â”€ å®‰å…¨: æ²™ç®±æ¨¡å¼ã€å±é™©å‘½ä»¤æ‹¦æˆª
â”‚   â”‚
â”‚   â”œâ”€â”€ TaskOutput
â”‚   â”‚   â”œâ”€â”€ åŠŸèƒ½: è·å–åå°ä»»åŠ¡è¾“å‡º
â”‚   â”‚   â””â”€â”€ å‚æ•°: task_id, block, timeout
â”‚   â”‚
â”‚   â””â”€â”€ TaskStop
â”‚       â”œâ”€â”€ åŠŸèƒ½: åœæ­¢åå°ä»»åŠ¡
â”‚       â””â”€â”€ å‚æ•°: task_id
â”‚
â”œâ”€â”€ ğŸŒ ç½‘ç»œå·¥å…·
â”‚   â”œâ”€â”€ WebSearch
â”‚   â”‚   â”œâ”€â”€ åŠŸèƒ½: æœç´¢å¼•æ“æŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ åœ°åŒº: ä»…ç¾å›½å¯ç”¨
â”‚   â”‚   â””â”€â”€ è¿‡æ»¤: allowed_domains, blocked_domains
â”‚   â”‚
â”‚   â””â”€â”€ WebFetch
â”‚       â”œâ”€â”€ åŠŸèƒ½: è·å–ç½‘é¡µå†…å®¹
â”‚       â”œâ”€â”€ æ ¼å¼: HTML â†’ Markdown
â”‚       â””â”€â”€ ç¼“å­˜: 15 åˆ†é’Ÿè‡ªåŠ¨æ¸…ç†
â”‚
â”œâ”€â”€ ğŸ¤– åä½œå·¥å…·
â”‚   â”œâ”€â”€ Task
â”‚   â”‚   â”œâ”€â”€ åŠŸèƒ½: å¯åŠ¨å­ Agent
â”‚   â”‚   â”œâ”€â”€ å‚æ•°: subagent_type, prompt, model
â”‚   â”‚   â””â”€â”€ æ¨¡å¼: åŒæ­¥/åå°è¿è¡Œ
â”‚   â”‚
â”‚   â”œâ”€â”€ Skill
â”‚   â”‚   â”œâ”€â”€ åŠŸèƒ½: è°ƒç”¨é¢„å®šä¹‰æŠ€èƒ½
â”‚   â”‚   â””â”€â”€ ç¤ºä¾‹: Skill({skill: "code-health"})
â”‚   â”‚
â”‚   â””â”€â”€ AskUserQuestion
â”‚       â”œâ”€â”€ åŠŸèƒ½: å‘ç”¨æˆ·æé—®
â”‚       â”œâ”€â”€ æ”¯æŒ: å•é€‰ã€å¤šé€‰ã€è‡ªå®šä¹‰è¾“å…¥
â”‚       â””â”€â”€ ç”¨é€”: æ”¶é›†éœ€æ±‚ã€æ¾„æ¸…æ„å›¾
â”‚
â”œâ”€â”€ ğŸ“‹ ä»»åŠ¡ç®¡ç†å·¥å…·
â”‚   â””â”€â”€ TodoWrite
â”‚       â”œâ”€â”€ åŠŸèƒ½: ç®¡ç†ä»»åŠ¡åˆ—è¡¨
â”‚       â”œâ”€â”€ çŠ¶æ€: pending, in_progress, completed
â”‚       â””â”€â”€ å±•ç¤º: å®æ—¶æ›´æ–°è¿›åº¦
â”‚
â””â”€â”€ ğŸ¯ æ¨¡å¼åˆ‡æ¢å·¥å…·
    â”œâ”€â”€ EnterPlanMode
    â”‚   â”œâ”€â”€ åŠŸèƒ½: è¿›å…¥è§„åˆ’æ¨¡å¼
    â”‚   â””â”€â”€ ç”¨é€”: å¤æ‚ä»»åŠ¡çš„æ–¹æ¡ˆè®¾è®¡
    â”‚
    â””â”€â”€ ExitPlanMode
        â”œâ”€â”€ åŠŸèƒ½: é€€å‡ºè§„åˆ’æ¨¡å¼
        â””â”€â”€ æ•ˆæœ: è¯·æ±‚ç”¨æˆ·æ‰¹å‡†è®¡åˆ’
```

#### å·¥å…·è°ƒç”¨æµç¨‹

```javascript
// 1. å¤§æ¨¡å‹å†³å®šè°ƒç”¨å·¥å…·
// 2. ç³»ç»Ÿæ‰§è¡Œå·¥å…·
const result = Read({file_path: "package.json"})

// 3. è¿”å›ç»“æœç»™å¤§æ¨¡å‹
// 4. å¤§æ¨¡å‹æ ¹æ®ç»“æœå†³å®šä¸‹ä¸€æ­¥
```

**å·¥å…·ä½¿ç”¨æœ€ä½³å®è·µ**ï¼š
- ä¼˜å…ˆä½¿ç”¨ä¸“ç”¨å·¥å…·ï¼ˆReadï¼‰è€Œéé€šç”¨å‘½ä»¤ï¼ˆBash catï¼‰
- å¹¶è¡Œè°ƒç”¨ç‹¬ç«‹å·¥å…·ä»¥æé«˜æ•ˆç‡
- ä¸ºå¤æ‚æœç´¢ä»»åŠ¡ä½¿ç”¨ Task + Explore Agent

---

### 7. Context Managementï¼ˆä¸Šä¸‹æ–‡ç®¡ç†ï¼‰

#### ä½œç”¨
ç®¡ç†å¯¹è¯å†å²ï¼Œç¡®ä¿ AI èƒ½ç†è§£å®Œæ•´çš„ä¸Šä¸‹æ–‡ï¼ŒåŒæ—¶æ§åˆ¶ token æ¶ˆè€—ã€‚

#### ä¸Šä¸‹æ–‡ç®¡ç†ç­–ç•¥

```
ğŸ§  ä¸Šä¸‹æ–‡ç®¡ç†æ¶æ„
â”‚
â”œâ”€â”€ è‡ªåŠ¨æ€»ç»“ï¼ˆAutomatic Summarizationï¼‰
â”‚   â”œâ”€â”€ è§¦å‘æ¡ä»¶: å¯¹è¯æ¥è¿‘ token é™åˆ¶
â”‚   â”œâ”€â”€ ä¿ç•™å†…å®¹:
â”‚   â”‚   â”œâ”€â”€ ç”¨æˆ·æ˜ç¡®æŒ‡ä»¤
â”‚   â”‚   â”œâ”€â”€ å…³é”®æ–‡ä»¶è·¯å¾„
â”‚   â”‚   â”œâ”€â”€ é”™è¯¯ä¿¡æ¯å’Œä¿®å¤æ–¹æ¡ˆ
â”‚   â”‚   â””â”€â”€ ä»»åŠ¡å®ŒæˆçŠ¶æ€
â”‚   â””â”€â”€ ä¸¢å¼ƒå†…å®¹:
â”‚       â”œâ”€â”€ é‡å¤çš„å·¥å…·è¾“å‡º
â”‚       â”œâ”€â”€ ä¸­é—´è°ƒè¯•ä¿¡æ¯
â”‚       â””â”€â”€ å·²è§£å†³çš„ä¸´æ—¶é—®é¢˜
â”‚
â”œâ”€â”€ æ— é™ä¸Šä¸‹æ–‡ï¼ˆUnlimited Contextï¼‰
â”‚   â”œâ”€â”€ å®ç°: é€šè¿‡è‡ªåŠ¨æ€»ç»“å®ç°"æ— é™"å¯¹è¯é•¿åº¦
â”‚   â”œâ”€â”€ å­˜å‚¨: .compacted.jsonl æ–‡ä»¶
â”‚   â””â”€â”€ æ¢å¤: å¯ä»æ€»ç»“æ¢å¤ä¼šè¯ä¸Šä¸‹æ–‡
â”‚
â”œâ”€â”€ ä¸Šä¸‹æ–‡ä¼˜å…ˆçº§
â”‚   â”œâ”€â”€ ç³»ç»Ÿæç¤ºè¯: æœ€é«˜ä¼˜å…ˆçº§ï¼ˆå§‹ç»ˆä¿ç•™ï¼‰
â”‚   â”œâ”€â”€ æœ€è¿‘æ¶ˆæ¯: é«˜ä¼˜å…ˆçº§ï¼ˆä¿ç•™æœ€è¿‘ N è½®ï¼‰
â”‚   â”œâ”€â”€ å·¥å…·ç»“æœ: ä¸­ä¼˜å…ˆçº§ï¼ˆç›¸å…³ç»“æœä¿ç•™ï¼‰
â”‚   â””â”€â”€ å†å²æ€»ç»“: ä½ä¼˜å…ˆçº§ï¼ˆå‹ç¼©ä¿å­˜ï¼‰
â”‚
â””â”€â”€ æ–‡ä»¶å­˜å‚¨
    â”œâ”€â”€ <session-id>.jsonl - å®Œæ•´å¯¹è¯å†å²
    â””â”€â”€ <session-id>.compacted.jsonl - å‹ç¼©å†å²
```

#### æ€»ç»“ç¤ºä¾‹

**åŸå§‹å¯¹è¯**ï¼ˆ1000+ è¡Œï¼‰:
```
User: ä¿®å¤è¿™ä¸ª bug
Assistant: è®©æˆ‘å…ˆè¯»å–æ–‡ä»¶...
<Read file>
<ç»“æœ 500 è¡Œ>
Assistant: å‘ç°é—®é¢˜äº†...
<Edit file>
...
```

**å‹ç¼©å**ï¼ˆ50 è¡Œï¼‰:
```
Summary:
- User requested to fix authentication bug in src/auth.js:42
- Issue: Missing null check before accessing user.token
- Fix applied: Added null guard and error handling
- Result: Bug fixed, tests passing
```

---

### 8. Hooksï¼ˆé’©å­ç³»ç»Ÿï¼‰

#### ä½œç”¨
å…è®¸ç”¨æˆ·åœ¨ç‰¹å®šäº‹ä»¶è§¦å‘æ—¶è‡ªåŠ¨æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°å·¥ä½œæµè‡ªåŠ¨åŒ–ã€‚

#### é’©å­ç±»å‹

| é’©å­åç§° | è§¦å‘æ—¶æœº | å¸¸è§ç”¨é€” |
|---------|---------|---------|
| `user-prompt-submit-hook` | ç”¨æˆ·æäº¤æ¶ˆæ¯å‰ | æ˜¾ç¤º git status, æ£€æŸ¥æœªæäº¤å˜æ›´ |
| `tool-call-hook` | æ¯æ¬¡å·¥å…·è°ƒç”¨æ—¶ | è®°å½•æ“ä½œæ—¥å¿—, ç»Ÿè®¡å·¥å…·ä½¿ç”¨ |
| `session-start-hook` | ä¼šè¯å¼€å§‹æ—¶ | æ˜¾ç¤ºé¡¹ç›®ä¿¡æ¯, æ£€æŸ¥ç¯å¢ƒ |
| `session-end-hook` | ä¼šè¯ç»“æŸæ—¶ | ç”Ÿæˆå·¥ä½œæ€»ç»“, æ¸…ç†ä¸´æ—¶æ–‡ä»¶ |

#### é…ç½®ç¤ºä¾‹

```json
{
  "hooks": {
    "user-prompt-submit-hook": "git status --short && echo '---'",
    "tool-call-hook": "echo '[$(date)] Tool: {{tool_name}}' >> .claude/tool-log.txt",
    "session-start-hook": "git log -1 --oneline && npm run test:unit",
    "session-end-hook": "echo 'Session ended at $(date)' && git stash"
  }
}
```

#### é’©å­å˜é‡

é’©å­å‘½ä»¤ä¸­å¯ä½¿ç”¨çš„å˜é‡ï¼š
- `{{tool_name}}` - è°ƒç”¨çš„å·¥å…·åç§°
- `{{file_path}}` - æ“ä½œçš„æ–‡ä»¶è·¯å¾„
- `{{timestamp}}` - å½“å‰æ—¶é—´æˆ³

#### å®é™…åº”ç”¨åœºæ™¯

**åœºæ™¯ 1: æäº¤å‰æ£€æŸ¥**
```json
{
  "user-prompt-submit-hook": "npm run lint && npm test"
}
```

**åœºæ™¯ 2: æ“ä½œå®¡è®¡**
```json
{
  "tool-call-hook": "echo '$(date): {{tool_name}}' >> audit.log"
}
```

**åœºæ™¯ 3: ç¯å¢ƒåˆå§‹åŒ–**
```json
{
  "session-start-hook": "docker-compose up -d && npm install"
}
```

---

### 9. Plan Modeï¼ˆè§„åˆ’æ¨¡å¼ï¼‰

#### ä½œç”¨
ä¸“é—¨ç”¨äºå¤æ‚ä»»åŠ¡çš„è§„åˆ’é˜¶æ®µï¼Œç¡®ä¿å®ç°æ–¹æ¡ˆå¾—åˆ°ç”¨æˆ·æ‰¹å‡†åå†æ‰§è¡Œã€‚

#### å·¥ä½œæµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·: æ·»åŠ ç”¨æˆ·è®¤è¯åŠŸèƒ½] --> B{ä»»åŠ¡å¤æ‚åº¦è¯„ä¼°}
    B -->|å¤æ‚| C[EnterPlanMode]
    B -->|ç®€å•| D[ç›´æ¥å®ç°]

    C --> E[æ¢ç´¢ä»£ç åº“]
    E --> F[è®¾è®¡å®ç°æ–¹æ¡ˆ]
    F --> G[ç¼–å†™ plan.md]
    G --> H[ExitPlanMode]

    H --> I{ç”¨æˆ·å®¡æŸ¥}
    I -->|æ‰¹å‡†| J[æ‰§è¡Œå®ç°]
    I -->|æ‹’ç»| K[ä¿®æ”¹è®¡åˆ’]
    K --> F

    J --> L[å®Œæˆä»»åŠ¡]
    D --> L
```

#### Plan Mode ç‰¹ç‚¹

**é™åˆ¶**ï¼š
- âœ… å¯ä»¥ä½¿ç”¨ï¼šRead, Glob, Grep, WebSearch, WebFetch
- âŒ ä¸èƒ½ä½¿ç”¨ï¼šEdit, Write, Bash, NotebookEdit

**ç›®çš„**ï¼š
- é˜²æ­¢åœ¨ç†è§£éœ€æ±‚å‰å°±å¼€å§‹ç¼–ç 
- ç¡®ä¿æŠ€æœ¯æ–¹æ¡ˆå¾—åˆ°ç”¨æˆ·è®¤å¯
- è¯„ä¼°é£é™©å’Œä¾èµ–å…³ç³»

#### è®¡åˆ’æ–‡æ¡£æ¨¡æ¿

```markdown
# å®ç°è®¡åˆ’ï¼š[åŠŸèƒ½åç§°]

## 1. éœ€æ±‚åˆ†æ
- ç”¨æˆ·éœ€æ±‚ï¼š...
- æŠ€æœ¯è¦æ±‚ï¼š...
- é™åˆ¶æ¡ä»¶ï¼š...

## 2. æ¶æ„å†³ç­–
- æŠ€æœ¯é€‰å‹ï¼š...
- è®¾è®¡æ¨¡å¼ï¼š...
- æ•°æ®æµï¼š...

## 3. éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶
- [ ] src/router/index.js - æ·»åŠ è·¯ç”±å®ˆå«
- [ ] src/store/user.js - å®ç°ç”¨æˆ·çŠ¶æ€ç®¡ç†
- [ ] src/api/auth.js - åˆ›å»ºè®¤è¯ API

## 4. å®ç°æ­¥éª¤
1. ç¬¬ä¸€æ­¥ï¼š...
2. ç¬¬äºŒæ­¥ï¼š...
3. ç¬¬ä¸‰æ­¥ï¼š...

## 5. é£é™©è¯„ä¼°
- âš ï¸ é£é™© 1ï¼šéœ€è¦åç«¯ API é…åˆ
- âš ï¸ é£é™© 2ï¼šå¯èƒ½å½±å“ç°æœ‰è·¯ç”±

## 6. æµ‹è¯•è®¡åˆ’
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] E2E æµ‹è¯•

## 7. å›æ»šæ–¹æ¡ˆ
å¦‚æœå‡ºç°é—®é¢˜ï¼š...
```

---

### 10. Permission & Securityï¼ˆæƒé™ä¸å®‰å…¨ï¼‰

#### ä½œç”¨
ä¿æŠ¤ç”¨æˆ·ç³»ç»Ÿï¼Œé˜²æ­¢å±é™©æ“ä½œï¼Œç¡®ä¿æ‰€æœ‰ä¿®æ”¹éƒ½åœ¨ç”¨æˆ·æ§åˆ¶ä¸‹ã€‚

#### å®‰å…¨æœºåˆ¶

```
ğŸ”’ å¤šå±‚å®‰å…¨é˜²æŠ¤
â”‚
â”œâ”€â”€ 1ï¸âƒ£ Sandbox Modeï¼ˆæ²™ç®±æ¨¡å¼ï¼‰
â”‚   â”œâ”€â”€ æ–‡ä»¶è®¿é—®é™åˆ¶
â”‚   â”‚   â”œâ”€â”€ ä»…é™é¡¹ç›®ç›®å½•
â”‚   â”‚   â”œâ”€â”€ ç™½åå•æœºåˆ¶
â”‚   â”‚   â””â”€â”€ æ•æ„Ÿæ–‡ä»¶ä¿æŠ¤ï¼ˆ.env, .git/ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ å‘½ä»¤é™åˆ¶
â”‚       â”œâ”€â”€ ç¦æ­¢: rm -rf /, dd, mkfs, format
â”‚       â”œâ”€â”€ è­¦å‘Š: git reset --hard, git clean -f
â”‚       â””â”€â”€ éœ€ç¡®è®¤: npm publish, docker rm -f
â”‚
â”œâ”€â”€ 2ï¸âƒ£ Permission Promptsï¼ˆæƒé™è¯·æ±‚ï¼‰
â”‚   â”œâ”€â”€ é¦–æ¬¡æ‰§è¡Œæ—¶è¯·æ±‚
â”‚   â”œâ”€â”€ æ•æ„Ÿæ“ä½œå‰ç¡®è®¤
â”‚   â””â”€â”€ å¯é…ç½®è‡ªåŠ¨æ‰¹å‡†
â”‚
â”œâ”€â”€ 3ï¸âƒ£ Git Safety Protocolï¼ˆGit å®‰å…¨åè®®ï¼‰
â”‚   â”œâ”€â”€ âŒ ä¸ä¿®æ”¹ git config
â”‚   â”œâ”€â”€ âŒ ä¸è·³è¿‡ hooksï¼ˆ--no-verifyï¼‰
â”‚   â”œâ”€â”€ âŒ ä¸ force push to main/master
â”‚   â”œâ”€â”€ âœ… Pre-commit å¤±è´¥ååˆ›å»ºæ–° commit
â”‚   â””â”€â”€ âœ… ç ´åæ€§æ“ä½œéœ€æ˜ç¡®æŒ‡ä»¤
â”‚
â”œâ”€â”€ 4ï¸âƒ£ File Protectionï¼ˆæ–‡ä»¶ä¿æŠ¤ï¼‰
â”‚   â”œâ”€â”€ æ•æ„Ÿæ–‡ä»¶æç¤º
â”‚   â”‚   â”œâ”€â”€ .env, .env.*
â”‚   â”‚   â”œâ”€â”€ credentials.json
â”‚   â”‚   â”œâ”€â”€ *_rsa, *.pem
â”‚   â”‚   â””â”€â”€ api-keys.txt
â”‚   â”‚
â”‚   â””â”€â”€ åªè¯»æ–‡ä»¶ä¿æŠ¤
â”‚       â”œâ”€â”€ node_modules/
â”‚       â”œâ”€â”€ .git/objects/
â”‚       â””â”€â”€ ç³»ç»Ÿæ–‡ä»¶
â”‚
â””â”€â”€ 5ï¸âƒ£ Dangerous Commands Blocking
    â”œâ”€â”€ å®Œå…¨é˜»æ­¢
    â”‚   â”œâ”€â”€ rm -rf /
    â”‚   â”œâ”€â”€ dd if=/dev/zero
    â”‚   â”œâ”€â”€ :(){ :|:& };:
    â”‚   â””â”€â”€ chmod -R 777 /
    â”‚
    â””â”€â”€ éœ€è¦ç¡®è®¤
        â”œâ”€â”€ docker system prune -a
        â”œâ”€â”€ npm publish
        â””â”€â”€ git push --force
```

#### å®‰å…¨é…ç½®

```json
{
  "security": {
    "sandboxMode": true,
    "autoApprove": {
      "read": true,
      "write": false,
      "bash": false
    },
    "blockedCommands": [
      "rm -rf /",
      "dd if=/dev/zero",
      "mkfs"
    ],
    "protectedFiles": [
      ".env",
      "*.pem",
      "credentials.json"
    ]
  }
}
```

---

### 11. Session Managementï¼ˆä¼šè¯ç®¡ç†ï¼‰

#### ä½œç”¨
ç®¡ç†ä¸åŒçš„å·¥ä½œä¼šè¯å’ŒçŠ¶æ€æŒä¹…åŒ–ï¼Œæ”¯æŒè·¨è®¾å¤‡è®¿é—®å’Œå›¢é˜Ÿåä½œã€‚

#### ä¼šè¯ç±»å‹

```
ğŸ“‚ ä¼šè¯ç®¡ç†æ¶æ„
â”‚
â”œâ”€â”€ æœ¬åœ°ä¼šè¯ï¼ˆLocal Sessionï¼‰
â”‚   â”œâ”€â”€ å­˜å‚¨ä½ç½®:
â”‚   â”‚   â””â”€â”€ ~/.claude/projects/<project-hash>/
â”‚   â”‚       â”œâ”€â”€ <session-id>.jsonl
â”‚   â”‚       â”œâ”€â”€ <session-id>.compacted.jsonl
â”‚   â”‚       â””â”€â”€ tasks/
â”‚   â”‚           â””â”€â”€ <task-id>.output
â”‚   â”‚
â”‚   â”œâ”€â”€ å†…å®¹:
â”‚   â”‚   â”œâ”€â”€ å®Œæ•´å¯¹è¯å†å²
â”‚   â”‚   â”œâ”€â”€ å·¥å…·è°ƒç”¨è®°å½•
â”‚   â”‚   â”œâ”€â”€ åå°ä»»åŠ¡è¾“å‡º
â”‚   â”‚   â””â”€â”€ ä¼šè¯å…ƒæ•°æ®
â”‚   â”‚
â”‚   â””â”€â”€ æŒä¹…åŒ–: æ°¸ä¹…ä¿å­˜
â”‚
â”œâ”€â”€ è¿œç¨‹ä¼šè¯ï¼ˆRemote Sessionï¼‰
â”‚   â”œâ”€â”€ å­˜å‚¨ä½ç½®: claude.ai äº‘ç«¯
â”‚   â”œâ”€â”€ ç”¨é€”:
â”‚   â”‚   â”œâ”€â”€ è·¨è®¾å¤‡è®¿é—®
â”‚   â”‚   â”œâ”€â”€ å›¢é˜Ÿåä½œ
â”‚   â”‚   â””â”€â”€ ä¼šè¯åˆ†äº«
â”‚   â”‚
â”‚   â””â”€â”€ æ¨é€: /push å‘½ä»¤
â”‚
â””â”€â”€ ä¸´æ—¶ä¼šè¯ï¼ˆEphemeral Sessionï¼‰
    â”œâ”€â”€ ç”¨é€”: å¿«é€Ÿæµ‹è¯•ã€æ¼”ç¤º
    â”œâ”€â”€ ç‰¹ç‚¹: ä¸ä¿å­˜å†å²
    â””â”€â”€ é”€æ¯: è¿›ç¨‹ç»“æŸæ—¶è‡ªåŠ¨æ¸…ç†
```

#### ä¼šè¯å‘½ä»¤

```bash
# åˆ—å‡ºæ‰€æœ‰ä¼šè¯
claude sessions

# æ¢å¤ä¼šè¯
claude --session <session-id>

# æ¨é€åˆ°è¿œç¨‹
/push

# æ¸…ç†æ—§ä¼šè¯
claude sessions clean --older-than 30d
```

#### ä¼šè¯æ–‡ä»¶ç»“æ„

```
~/.claude/projects/
â””â”€â”€ e--ProjectxPlex-WebCodePlex-WebExamples/
    â”œâ”€â”€ a533e3fa-5274-4e93-baca-5cc0ed316894.jsonl
    â”œâ”€â”€ a533e3fa-5274-4e93-baca-5cc0ed316894.compacted.jsonl
    â””â”€â”€ tasks/
        â”œâ”€â”€ bb2bb8f.output
        â””â”€â”€ cc3cc9g.output
```

---

### 12. Settings & Configurationï¼ˆé…ç½®ç³»ç»Ÿï¼‰

#### ä½œç”¨
ç®¡ç† Claude Code çš„è¡Œä¸ºå’Œåå¥½è®¾ç½®ï¼Œæ”¯æŒé¡¹ç›®çº§å’Œç”¨æˆ·çº§é…ç½®ã€‚

#### é…ç½®ä¼˜å…ˆçº§

```
âš™ï¸ é…ç½®å±‚çº§ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰
â”‚
â”œâ”€â”€ 1ï¸âƒ£ é¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ .clauderc.json
â”‚   â”œâ”€â”€ .claude/config.json
â”‚   â””â”€â”€ .claude/skills/
â”‚
â”œâ”€â”€ 2ï¸âƒ£ ç”¨æˆ·é…ç½®
â”‚   â”œâ”€â”€ ~/.claude/config.json
â”‚   â””â”€â”€ ~/.claude/skills/
â”‚
â””â”€â”€ 3ï¸âƒ£ é»˜è®¤é…ç½®
    â””â”€â”€ å†…ç½®é»˜è®¤å€¼
```

#### å®Œæ•´é…ç½®ç¤ºä¾‹

```json
{
  "model": "sonnet",
  "autoApprove": {
    "read": true,
    "write": false,
    "bash": false
  },
  "hooks": {
    "user-prompt-submit-hook": "git status --short",
    "tool-call-hook": "echo 'Tool: {{tool_name}}'",
    "session-start-hook": "npm test",
    "session-end-hook": "git stash"
  },
  "mcpServers": {
    "github": {
      "command": "mcp-server-github",
      "env": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
      }
    },
    "confluence": {
      "command": "mcp-server-confluence",
      "args": ["--base-url", "https://company.atlassian.net"],
      "env": {
        "CONFLUENCE_TOKEN": "${CONFLUENCE_TOKEN}"
      }
    }
  },
  "skills": {
    "directories": [
      "./.claude/skills",
      "~/.claude/skills"
    ]
  },
  "security": {
    "sandboxMode": true,
    "protectedFiles": [".env", "*.pem"]
  },
  "git": {
    "autoCommit": false,
    "coAuthor": "Claude Sonnet 4.5 <noreply@anthropic.com>"
  }
}
```

#### é…ç½®é¡¹è¯´æ˜

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| `model` | string | "sonnet" | é»˜è®¤ä½¿ç”¨çš„æ¨¡å‹ |
| `autoApprove` | object | {...} | è‡ªåŠ¨æ‰¹å‡†è®¾ç½® |
| `hooks` | object | {} | é’©å­é…ç½® |
| `mcpServers` | object | {} | MCP æœåŠ¡å™¨é…ç½® |
| `skills.directories` | array | [...] | Skills æœç´¢è·¯å¾„ |
| `security.sandboxMode` | boolean | true | æ²™ç®±æ¨¡å¼ |
| `git.coAuthor` | string | ... | Git commit å…±åŒä½œè€… |

---

### 13. Git Integrationï¼ˆGit é›†æˆï¼‰

#### ä½œç”¨
æä¾›æ™ºèƒ½çš„ Git æ“ä½œæ”¯æŒï¼Œè‡ªåŠ¨ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ commit messageã€‚

#### Git å·¥ä½œæµ

```
ğŸŒ³ æ™ºèƒ½ Git å·¥ä½œæµ
â”‚
â”œâ”€â”€ 1ï¸âƒ£ æ™ºèƒ½ Commit
â”‚   â”œâ”€â”€ åˆ†æå˜æ›´
â”‚   â”‚   â”œâ”€â”€ git status
â”‚   â”‚   â”œâ”€â”€ git diffï¼ˆstaged & unstagedï¼‰
â”‚   â”‚   â””â”€â”€ git logï¼ˆå­¦ä¹ é£æ ¼ï¼‰
â”‚   â”‚
â”‚   â”œ<|2024-01-placeholder-continuation-marker|>èƒ½ Git æ“ä½œçš„è¯¦ç»†è¯´æ˜
   â””â”€â”€ æ·»åŠ  Co-Authored-By æ ‡ç­¾
â”‚
â”œâ”€â”€ 2ï¸âƒ£ Pull Request åˆ›å»º
â”‚   â”œâ”€â”€ åˆ†ææ•´ä¸ªåˆ†æ”¯
â”‚   â”‚   â”œâ”€â”€ git log base-branch...HEAD
â”‚   â”‚   â”œâ”€â”€ git diff base-branch...HEAD
â”‚   â”‚   â””â”€â”€ ç»Ÿè®¡å˜æ›´æ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ ç”Ÿæˆ PR å†…å®¹
â”‚   â”‚   â”œâ”€â”€ æ ‡é¢˜: ç®€æ´æè¿°ï¼ˆ<70 å­—ç¬¦ï¼‰
â”‚   â”‚   â”œâ”€â”€ æè¿°: å˜æ›´æ‘˜è¦
â”‚   â”‚   â””â”€â”€ æµ‹è¯•è®¡åˆ’: éªŒè¯æ­¥éª¤
â”‚   â”‚
â”‚   â””â”€â”€ ä½¿ç”¨ gh CLI
â”‚       â””â”€â”€ gh pr create --title "..." --body "..."
â”‚
â”œâ”€â”€ 3ï¸âƒ£ Git å®‰å…¨åè®®
â”‚   â”œâ”€â”€ âŒ ä¸ä¿®æ”¹ git config
â”‚   â”œâ”€â”€ âŒ ä¸è·³è¿‡ hooks
â”‚   â”œâ”€â”€ âŒ ä¸ force push to main
â”‚   â”œâ”€â”€ âœ… Pre-commit å¤±è´¥ååˆ›å»ºæ–° commitï¼ˆä¸ amendï¼‰
â”‚   â””â”€â”€ âœ… ç ´åæ€§æ“ä½œéœ€æ˜ç¡®æŒ‡ä»¤
â”‚
â””â”€â”€ 4ï¸âƒ£ GitHub CLI é›†æˆ
    â”œâ”€â”€ gh pr view/create/list
    â”œâ”€â”€ gh issue view/create
    â”œâ”€â”€ gh repo view
    â””<|2024-01-placeholder-continuation-marker|>> gh apiï¼ˆè‡ªå®šä¹‰ API è°ƒç”¨ï¼‰
```

#### Commit Message ç”Ÿæˆ

**åˆ†æè¾“å…¥**ï¼š
```bash
# 1. git status
modified:   src/auth.js
modified:   tests/auth.test.js
added:      docs/auth-api.md

# 2. git diff
+function validateToken(token) {
+  if (!token) throw new Error('Token required')
+  return jwt.verify(token, SECRET_KEY)
+}
```

**ç”Ÿæˆè¾“å‡º**ï¼š
```
feat: Add token validation in authentication module

- Implement validateToken function with null check
- Add JWT verification with error handling
- Update tests to cover new validation logic
- Add API documentation for authentication endpoints

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

---

### 14. IDE Integrationï¼ˆIDE é›†æˆï¼‰

#### ä½œç”¨
åœ¨ VSCode ä¸­æä¾›åŸç”Ÿä½“éªŒï¼Œå¢å¼ºå¼€å‘è€…å·¥ä½œæµã€‚

#### VSCode æ‰©å±•åŠŸèƒ½

```
ğŸ¨ VSCode é›†æˆç‰¹æ€§
â”‚
â”œâ”€â”€ ğŸ“ ä»£ç å¼•ç”¨
â”‚   â”œâ”€â”€ ç‚¹å‡»è·³è½¬
â”‚   â”‚   â”œâ”€â”€ [file.js:42](path#L42)
â”‚   â”‚   â””â”€â”€ è·³è½¬åˆ°ç²¾ç¡®è¡Œå·
â”‚   â”‚
â”‚   â”œâ”€â”€ é€‰ä¸­ä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ è‡ªåŠ¨åŒ…å«é€‰ä¸­ä»£ç 
â”‚   â”‚   â””â”€â”€ æä¾›ä¸Šä¸‹æ–‡åˆ†æ
â”‚   â”‚
â”‚   â””â”€â”€ Markdown é“¾æ¥
â”‚       â””â”€â”€ æ”¯æŒç›¸å¯¹è·¯å¾„å’Œè¡Œå·èŒƒå›´
â”‚
â”œâ”€â”€ ğŸ–¥ï¸ UI å¢å¼º
â”‚   â”œâ”€â”€ ä¾§è¾¹æ é¢æ¿
â”‚   â”‚   â”œâ”€â”€ å¯¹è¯å†å²
â”‚   â”‚   â”œâ”€â”€ ä»»åŠ¡è¿›åº¦
â”‚   â”‚   â””â”€â”€ Skills åˆ—è¡¨
â”‚   â”‚
â”‚   â”œâ”€â”€ å†…è”å»ºè®®
â”‚   â”‚   â”œ<|2024-01-placeholder-continuation-marker|>ä»£ç è¡¥å…¨
â”‚   â”‚   â””â”€â”€ é”™è¯¯ä¿®å¤å»ºè®®
â”‚   â”‚
â”‚   â””â”€â”€ çŠ¶æ€æ 
â”‚       â”œâ”€â”€ å½“å‰ Agent çŠ¶æ€
â”‚       â””â”€â”€ Token ä½¿ç”¨é‡
â”‚
â”œâ”€â”€ âŒ¨ï¸ å¿«æ·é”®
â”‚   â”œâ”€â”€ Ctrl+Shift+P: æ‰“å¼€ Claude
â”‚   â”œâ”€â”€ Ctrl+K C: è¯¢é—®é€‰ä¸­ä»£ç 
â”‚   â””â”€â”€ Ctrl+K F: ä¿®å¤é€‰ä¸­ä»£ç 
â”‚
â””â”€â”€ ğŸ”„ å®æ—¶åä½œ
    â”œâ”€â”€ æ–‡ä»¶å˜æ›´å®æ—¶åŒæ­¥
    â”œâ”€â”€ ä»»åŠ¡è¿›åº¦å¯è§†åŒ–
    â””â”€â”€ é”™è¯¯æç¤ºé›†æˆ
```

#### ä»£ç å¼•ç”¨æ ¼å¼

```markdown
<!-- æ–‡ä»¶å¼•ç”¨ -->
æŸ¥çœ‹ [package.json](package.json)

<!-- è¡Œå·å¼•ç”¨ -->
é—®é¢˜åœ¨ [auth.js:42](src/auth.js#L42)

<!-- èŒƒå›´å¼•ç”¨ -->
ç›¸å…³ä»£ç  [utils.js:10-25](src/utils.js#L10-L25)

<!-- æ–‡ä»¶å¤¹å¼•ç”¨ -->
æ£€æŸ¥ [ç»„ä»¶ç›®å½•](src/components/)
```

---

## å®Œæ•´æ¶æ„å›¾

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·å±‚ (User Layer)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  CLI ç»ˆç«¯  â”‚  â”‚ VSCode IDE â”‚  â”‚ Web ç•Œé¢   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              é…ç½® & å®‰å…¨å±‚ (Config & Security)                   â”‚
â”‚  Settings | Permissions | Hooks | Git Safety | Sandbox          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ä¸Šä¸‹æ–‡ç®¡ç†å±‚ (Context Management)                     â”‚
â”‚  Context Management | Session Management | History Compaction   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ ¸å¿ƒ AI å¼•æ“ (Core AI Engine)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚       Large Language Model (Claude Sonnet 4.5)            â”‚ â”‚
â”‚  â”‚       â€¢ æ„å›¾ç†è§£  â€¢ ä»»åŠ¡è§„åˆ’  â€¢ å·¥å…·è°ƒç”¨å†³ç­–               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“             â†“             â†“             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Tools      â”‚ â”‚   Agents     â”‚ â”‚   Skills     â”‚ â”‚     MCP      â”‚
â”‚   ç³»ç»Ÿ       â”‚ â”‚   ç³»ç»Ÿ       â”‚ â”‚   ç³»ç»Ÿ       â”‚ â”‚    åè®®      â”‚
â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚
â”‚ â€¢ Read       â”‚ â”‚ â€¢ Bash       â”‚ â”‚ â€¢ code-      â”‚ â”‚ â€¢ GitHub     â”‚
â”‚ â€¢ Write      â”‚ â”‚ â€¢ Explore    â”‚ â”‚   health     â”‚ â”‚ â€¢ Confluence â”‚
â”‚ â€¢ Edit       â”‚ â”‚ â€¢ Plan       â”‚ â”‚ â€¢ dependency â”‚ â”‚ â€¢ Database   â”‚
â”‚ â€¢ Bash       â”‚ â”‚ â€¢ General    â”‚ â”‚ â€¢ frontend   â”‚ â”‚ â€¢ Custom     â”‚
â”‚ â€¢ Glob       â”‚ â”‚ â€¢ Guide      â”‚ â”‚   review     â”‚ â”‚              â”‚
â”‚ â€¢ Grep       â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“             â†“             â†“             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              RAG æ•°æ®æºå±‚ (RAG Data Sources)                     â”‚
â”‚  WebSearch | WebFetch | Codebase | MCP APIs | Project Files     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ‰§è¡Œç¯å¢ƒå±‚ (Execution Environment)                  â”‚
â”‚  File System | Shell | Git | Network | Background Tasks         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ååŒå·¥ä½œæµç¨‹

### å®Œæ•´ä»»åŠ¡æ‰§è¡Œæµç¨‹

ä»¥"ä¾èµ–æ›´æ–°ä»»åŠ¡"ä¸ºä¾‹ï¼Œå±•ç¤ºæ‰€æœ‰ç»„ä»¶å¦‚ä½•ååŒå·¥ä½œï¼š

```
1. ç”¨æˆ·è¾“å…¥: "/dependency-check" â†’ "ç«‹å³æ‰§è¡Œ"
   â†“
2. IDE Integration: VSCode æ•è·è¾“å…¥ï¼Œå‘é€åˆ° Claude Code
   â†“
3. Context Management: åŠ è½½ä¼šè¯å†å²å’Œé¡¹ç›®ä¸Šä¸‹æ–‡
   â†“
4. Settings: è¯»å– .clauderc.jsonï¼Œæ£€æŸ¥é…ç½®
   â†“
5. Hooks: æ‰§è¡Œ user-prompt-submit-hookï¼ˆå¦‚æœé…ç½®ï¼‰
   â†“
6. Permission System: æ£€æŸ¥æ˜¯å¦éœ€è¦è¯·æ±‚æƒé™
   â†“
7. Skill System: åŠ è½½ dependency-check/SKILL.md
   â†“
8. LLM: ç†è§£ä»»åŠ¡ï¼Œè§„åˆ’æ‰§è¡Œæ­¥éª¤
   â†“
9. TodoWrite Tool: åˆ›å»ºä»»åŠ¡åˆ—è¡¨
   â”‚   Task 1: æ‰§è¡Œ Phase 1 å®‰å…¨æ›´æ–°
   â”‚   Task 2: æ‰§è¡Œ Phase 2 å…¼å®¹æ›´æ–°
   â”‚   Task 3: è¿è¡ŒéªŒè¯æµ‹è¯•
   â†“
10. Bash Agent: æ‰§è¡Œ pnpm outdated, pnpm audit
    â†“
11. RAG (WebSearch): æŸ¥è¯¢ CVE æ¼æ´è¯¦ç»†ä¿¡æ¯
    â†“
12. LLM: åˆ†æç»“æœï¼Œç”Ÿæˆä¸‰é˜¶æ®µå‡çº§è®¡åˆ’
    â†“
13. ç”¨æˆ·ç¡®è®¤: "ç«‹å³æ‰§è¡Œ"
    â†“
14. Background Task: å¯åŠ¨ pnpm updateï¼ˆé•¿æ—¶é—´è¿è¡Œï¼‰
    â†“
15. TodoWrite: å®æ—¶æ›´æ–°ä»»åŠ¡çŠ¶æ€
    â”‚   âœ… Task 1: completed
    â”‚   ğŸ”„ Task 2: in_progress
    â”‚   â³ Task 3: pending
    â†“
16. Bash Tool: ä¾æ¬¡æ‰§è¡Œæ‰€æœ‰æ›´æ–°å‘½ä»¤
    â†“
17. Git Integration: åˆ†æå˜æ›´ï¼Œå‡†å¤‡ commit
    â†“
18. Permission System: è¯·æ±‚ç”¨æˆ·ç¡®è®¤ git commit
    â†“
19. Session Management: ä¿å­˜å®Œæ•´å¯¹è¯å†å²
    â†“
20. Context Management: å‹ç¼©å†å²èŠ‚çœ tokens
    â†“
21. IDE Integration: åœ¨ VSCode ä¸­é«˜äº®å˜æ›´æ–‡ä»¶
    â†“
22. ä»»åŠ¡å®Œæˆï¼Œè¿”å›æ€»ç»“æŠ¥å‘Š
```

### ç»„ä»¶äº¤äº’æ—¶åºå›¾

```mermaid
sequenceDiagram
    participant User
    participant IDE
    participant Claude
    participant Tools
    participant Agent
    participant RAG
    participant Git

    User->>IDE: /dependency-check
    IDE->>Claude: è½¬å‘è¯·æ±‚
    Claude->>Tools: Skill({skill: "dependency-check"})
    Tools-->>Claude: åŠ è½½ SKILL.md

    Claude->>Tools: TodoWriteåˆ›å»ºä»»åŠ¡åˆ—è¡¨
    Claude->>Agent: Taskå¯åŠ¨ Bash Agent
    Agent->>Tools: Bash(pnpm audit)
    Tools-->>Agent: æ¼æ´æŠ¥å‘Š

    Claude->>RAG: WebSearchæŸ¥è¯¢ CVE
    RAG-->>Claude: æ¼æ´è¯¦æƒ…

    Claude->>User: å±•ç¤ºåˆ†ææŠ¥å‘Š
    User->>Claude: "ç«‹å³æ‰§è¡Œ"

    Claude->>Agent: å¯åŠ¨åå°æ›´æ–°ä»»åŠ¡
    Agent->>Tools: Bash(pnpm update)
    Tools-->>Claude: æ›´æ–°å®Œæˆ

    Claude->>Git: åˆ†æå˜æ›´
    Git-->>Claude: git diff ç»“æœ
    Claude->>User: ç”Ÿæˆ commit message

    Claude->>Tools: TodoWriteæ ‡è®°å®Œæˆ
    Claude->>IDE: åˆ·æ–°æ–‡ä»¶çŠ¶æ€
    IDE->>User: æ˜¾ç¤ºå˜æ›´
```

---

## ç»„ä»¶é‡è¦æ€§è¯„çº§

| ç»„ä»¶ | æ ¸å¿ƒç¨‹åº¦ | ç”¨æˆ·å¯è§åº¦ | æŠ€æœ¯å¤æ‚åº¦ | æ‰©å±•æ€§ |
|------|---------|-----------|-----------|--------|
| **LLMï¼ˆå¤§æ¨¡å‹ï¼‰** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­ |
| **Toolsï¼ˆå·¥å…·ç³»ç»Ÿï¼‰** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­ |
| **Context Management** | â­â­â­â­â­ | â­â­ | â­â­â­â­â­ | â­â­â­ |
| **Permission & Security** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­ | â­â­â­ |
| **Agentï¼ˆæ™ºèƒ½ä»£ç†ï¼‰** | â­â­â­â­ | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| **Skillï¼ˆæŠ€èƒ½ï¼‰** | â­â­â­â­ | â­â­â­â­â­ | â­â­ | â­â­â­â­â­ |
| **RAGï¼ˆæ£€ç´¢å¢å¼ºï¼‰** | â­â­â­â­ | â­â­ | â­â­â­ | â­â­â­â­ |
| **Git Integration** | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­ |
| **IDE Integration** | â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­ |
| **MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰** | â­â­â­ | â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| **Plan Mode** | â­â­â­ | â­â­â­â­ | â­â­â­ | â­â­ |
| **Session Management** | â­â­â­ | â­â­ | â­â­â­â­ | â­â­â­ |
| **Hooksï¼ˆé’©å­ï¼‰** | â­â­ | â­â­ | â­â­ | â­â­â­â­â­ |
| **Settingsï¼ˆé…ç½®ï¼‰** | â­â­ | â­â­â­ | â­â­ | â­â­â­â­ |

**è¯„çº§è¯´æ˜**ï¼š
- **æ ¸å¿ƒç¨‹åº¦**: å¯¹ç³»ç»Ÿè¿è¡Œçš„é‡è¦æ€§
- **ç”¨æˆ·å¯è§åº¦**: ç”¨æˆ·æ„ŸçŸ¥å’Œäº¤äº’é¢‘ç‡
- **æŠ€æœ¯å¤æ‚åº¦**: å®ç°éš¾åº¦å’Œç»´æŠ¤æˆæœ¬
- **æ‰©å±•æ€§**: æ”¯æŒè‡ªå®šä¹‰å’Œç¬¬ä¸‰æ–¹æ‰©å±•çš„èƒ½åŠ›

---

## å®é™…åº”ç”¨æ¡ˆä¾‹

### æ¡ˆä¾‹ 1: ä¾èµ–å®‰å…¨æ›´æ–°

**ä»»åŠ¡**: æ£€æŸ¥å¹¶æ›´æ–°é¡¹ç›®ä¾èµ–ï¼Œä¿®å¤å®‰å…¨æ¼æ´

**æ¶‰åŠç»„ä»¶**ï¼š
1. **Skill**: dependency-check æä¾›æ£€æŸ¥æ¸…å•
2. **Bash Agent**: æ‰§è¡Œ pnpm auditã€pnpm update
3. **RAG**: WebSearch æŸ¥è¯¢ CVE æ¼æ´è¯¦æƒ…
4. **LLM**: åˆ†æç»“æœï¼Œåˆ¶å®šå‡çº§ç­–ç•¥
5. **TodoWrite**: è·Ÿè¸ªä»»åŠ¡è¿›åº¦
6. **Git Integration**: ç”Ÿæˆ commit message

**æ‰§è¡Œç»“æœ**ï¼š
```
âœ… ä¿®å¤ 7/8 ä¸ªå®‰å…¨æ¼æ´ï¼ˆ87.5%ï¼‰
âœ… å‡çº§ 15 ä¸ªä¾èµ–åŒ…
âœ… ä¸¤ä¸ªé¡¹ç›®æ„å»ºæˆåŠŸ
âœ… ç”Ÿæˆè¯¦ç»†å‡çº§æŠ¥å‘Š
```

---

### æ¡ˆä¾‹ 2: ä»£ç è§„èŒƒæ£€æŸ¥

**ä»»åŠ¡**: æ£€æŸ¥å‰ç«¯ä»£ç æ˜¯å¦ç¬¦åˆ Airbnb è§„èŒƒ

**æ¶‰åŠç»„ä»¶**ï¼š
1. **Skill**: frontend-review åŠ è½½æ£€æŸ¥æ ‡å‡†
2. **Explore Agent**: æœç´¢æ‰€æœ‰ HTML/JS/CSS æ–‡ä»¶
3. **Grep**: æŸ¥æ‰¾ç‰¹å®šæ¨¡å¼ï¼ˆå¦‚ varã€==ï¼‰
4. **Read**: è¯»å–æ–‡ä»¶å†…å®¹
5. **LLM**: åˆ†æä»£ç ï¼Œç”Ÿæˆæ”¹è¿›å»ºè®®
6. **Edit**: ä¿®å¤å‘ç°çš„é—®é¢˜

**æ£€æŸ¥æ ‡å‡†**ï¼š
- HTML5 è¯­ä¹‰åŒ–æ ‡ç­¾
- JavaScript ES6+ è¯­æ³•
- CSS BEM å‘½åè§„èŒƒ
- WCAG 2.1 å¯è®¿é—®æ€§

---

### æ¡ˆä¾‹ 3: Git æ™ºèƒ½æäº¤

**ä»»åŠ¡**: åˆ†æä»£ç å˜æ›´ï¼Œç”Ÿæˆç¬¦åˆè§„èŒƒçš„ commit message

**æ¶‰åŠç»„ä»¶**ï¼š
1. **Bash**: æ‰§è¡Œ git statusã€git diff
2. **LLM**: ç†è§£å˜æ›´å†…å®¹å’Œæ„å›¾
3. **Git Integration**: ç”Ÿæˆ commit message
4. **Permission**: è¯·æ±‚ç”¨æˆ·ç¡®è®¤
5. **Session**: è®°å½• commit å†å²

**ç”Ÿæˆç¤ºä¾‹**ï¼š
```
feat: Add token validation in auth module

- Implement validateToken with null check
- Add JWT verification and error handling
- Update tests for new validation logic

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

---

### æ¡ˆä¾‹ 4: å¤æ‚åŠŸèƒ½è§„åˆ’

**ä»»åŠ¡**: è®¾è®¡å¹¶å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

**æ¶‰åŠç»„ä»¶**ï¼š
1. **EnterPlanMode**: è¿›å…¥è§„åˆ’æ¨¡å¼
2. **Explore Agent**: åˆ†æç°æœ‰ä»£ç ç»“æ„
3. **WebSearch**: æŸ¥è¯¢æœ€ä½³å®è·µ
4. **LLM**: è®¾è®¡æŠ€æœ¯æ–¹æ¡ˆ
5. **ExitPlanMode**: æäº¤è®¡åˆ’å®¡æ‰¹
6. **AskUserQuestion**: è¯¢é—®æŠ€æœ¯é€‰å‹

**è®¡åˆ’è¾“å‡º**ï¼š
```markdown
# ç”¨æˆ·è®¤è¯ç³»ç»Ÿå®ç°è®¡åˆ’

## æ¶æ„å†³ç­–
- ä½¿ç”¨ JWT token
- Session å­˜å‚¨åœ¨ localStorage
- æ·»åŠ å…¨å±€è·¯ç”±å®ˆå«

## å®ç°æ­¥éª¤
1. åˆ›å»º auth API æ¨¡å—
2. å®ç° Pinia store
3. æ·»åŠ è·¯ç”±å®ˆå«
4. å¼€å‘ç™»å½•é¡µé¢

## é£é™©è¯„ä¼°
âš ï¸ éœ€è¦åç«¯ API é…åˆ
âš ï¸ å¯èƒ½å½±å“ç°æœ‰è·¯ç”±
```

---

## æ€»ç»“

Claude Code é€šè¿‡**14ä¸ªæ ¸å¿ƒä¸æ‰©å±•ç»„ä»¶**çš„ååŒå·¥ä½œï¼Œå®ç°äº†å¼ºå¤§çš„ AI ç¼–ç¨‹è¾…åŠ©èƒ½åŠ›ï¼š

### ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

1. **æ¨¡å—åŒ–è®¾è®¡**: å„ç»„ä»¶èŒè´£æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
2. **å¹¶è¡Œæ‰§è¡Œ**: å¤š Agent å¹¶å‘å·¥ä½œï¼Œæé«˜æ•ˆç‡
3. **çŸ¥è¯†å¢å¼º**: RAG ç¡®ä¿ä¿¡æ¯å‡†ç¡®å’Œæœ€æ–°
4. **å®‰å…¨å¯æ§**: å¤šå±‚å®‰å…¨æœºåˆ¶ï¼Œæ‰€æœ‰æ“ä½œåœ¨ç”¨æˆ·æ§åˆ¶ä¸‹
5. **é«˜åº¦å¯æ‰©å±•**: æ”¯æŒè‡ªå®šä¹‰ Skillsã€MCP Serversã€Hooks

### ğŸš€ æœªæ¥å±•æœ›

- æ›´å¤šä¸“ä¸šåŒ– Agent
- æ›´ä¸°å¯Œçš„ MCP Server ç”Ÿæ€
- æ›´æ™ºèƒ½çš„ä¸Šä¸‹æ–‡ç®¡ç†
- æ›´å¼ºå¤§çš„ä»£ç ç†è§£èƒ½åŠ›
- å›¢é˜Ÿåä½œåŠŸèƒ½å¢å¼º

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2026-02-08
**ç»´æŠ¤è€…**: Claude Sonnet 4.5

**ç›¸å…³é“¾æ¥**:
- [Claude Code å®˜æ–¹æ–‡æ¡£](https://docs.anthropic.com/claude/docs/claude-code)
- [Agent Skills æ ‡å‡†](https://agentskills.io/home)
- [MCP åè®®è§„èŒƒ](https://modelcontextprotocol.io)

---

*æ­¤æ–‡æ¡£åŸºäº Claude Code å®é™…è¿è¡Œæ¶æ„ç¼–å†™ï¼Œå±•ç¤ºäº†å„ç»„ä»¶å¦‚ä½•ååŒå·¥ä½œä»¥å®ç°æ™ºèƒ½ä»£ç è¾…åŠ©ã€‚*
